
{% extends 'layout.html' %}

{% block body %}
<body>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"> </script>
        <div class="container">
        <div >
                    <br />
                    <h2 >PubMed Articles</h2><br />

                    <form method="post" id="add_form">
                    <div class="form-group">
                        <label>Enter PubMed ID/Article Title</label>
                        <input type="text" name="articleIdentifier" id="articleIdentifier" class="form-control">
                    </div>
                    <div class="form-group">
                        <label>Select Container</label>
                        <select name="containerChoice" id="containerChoice" class="form-control">
                            <option value="pubmed">PubMed</option>
                            <option value="pubmed_ignore">PubMed Ignore</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <input type="submit" name="Add Article" id="addArticle" class="btn btn-success" value="Add Article" />
                    </div>
                    </form>
                
                    <h2 >Remove Article</h2><br />
                    <form method="delete" id="delete_form">
                        <div class="form-group">
                            <label>Enter PubMed ID/Article Title</label>
                            <input type="text" name="articleIDToRemove" id="articleIDToRemove" class="form-control">
                        </div>
                        <div class="form-group">
                            <label>Select Container</label>
                            <select name="containerWithArticle" id="containerWithArticle" class="form-control">
                                <option value="pubmed">PubMed</option>
                                <option value="pubmed_ignore">PubMed Ignore</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <input type="submit" name="Remove Article" id="removeArticle" class="btn btn-success" value="Remove Article" />
                        </div>
                    </form>
                
                
                    <h2 >Move Article</h2><br />
                    <form method="post" id="move_form">
                        <div class="form-group">
                            <label>Enter PubMed ID/Article Title</label>
                            <input type="text" name="articleMove" id="articleMove" class="form-control">
                        </div>
                        <div class="form-group">
                            <input type="submit" name="Move Article" id="moveArticle" class="btn btn-success" value="Move Article" />
                        </div>
                    </form>
                
            
        </div>
    </div>

    <script>
        $('#add_form').on('submit', function(event){
            event.preventDefault();
            if($('#articleIdentifier').val() == '') {
                alert("Enter Article PubmedID or title");
                return false;
            }else if($('#containerChoice').val() == ''){
                alert("Select Container");
                return false;
            }else{
                $.ajax({
                    url:"/insert",
                    method:"POST",
                    data:$(this).serialize(),
                    success:function(data)
                    {
                        alert(data);
                        $('#add_form')[0].reset();
                    }
                });
            }
            });

            $('#delete_form').on('submit', function(event){
            event.preventDefault();
            if($('#articleIDToRemove').val() == '') {
                alert("Enter Article PubmedID or title to remove");
                return false;
            }else if($('#containerWithArticle').val() == ''){
                alert("Select Container");
                return false;
            }else{
                $.ajax({
                    url:"/remove_article",
                    method:"DELETE",
                    data:$(this).serialize(),
                    success:function(data)
                    {
                        alert(data);
                        $('#delete_form')[0].reset();
                    }
                });
            }
            }).error(function (data, status, headers, config) {
            logerror("Error retrieving data: " + status);
        });;

            $('#move_form').on('submit', function(event){
            event.preventDefault();
            if($('#articleMove').val() == '') {
                alert("Enter Article PubmedID or title");
                return false;
            }else{
                $.ajax({
                    url:"/moveToContainer",
                    method:"POST",
                    data:$(this).serialize(),
                    success:function(data)
                    {
                        alert(data);
                        $('#sample_form')[0].reset();
                    }
                });
            }
            });
   
     
                        



    </script>
    

    <style>

        .scroll{
            width: 700px;
            height: 600px;
            overflow-y: scroll;
        }
    
    </style>
</body>
{% endblock %}

    
